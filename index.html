<script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // üõë –í–ê–ñ–ù–û: –í—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å—Å—ã–ª–∫—É –∏–∑ Ngrok!
        const API_URL = "https://salubriously-ophthalmic-eveline.ngrok-free.dev"; 
        
        // –ü–æ–ª—É—á–∞–µ–º ID —é–∑–µ—Ä–∞ –∏–∑ –¢–µ–ª–µ–≥—Ä–∞–º–∞
        const userId = tg.initDataUnsafe?.user?.id; 

        // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –¢–ì, —Å—Ç–∞–≤–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π ID
        const myId = userId ? userId : 12345; 

        async function loadData() {
            try {
                // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ —É Python-—Å–µ—Ä–≤–µ—Ä–∞
                let response = await fetch(`${API_URL}/api/get_user/${myId}`);
                let data = await response.json();

                if (data.error) {
                    alert("–°–Ω–∞—á–∞–ª–∞ –Ω–∞–∂–º–∏ /start –≤ –±–æ—Ç–µ!");
                    return;
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–æ—Å–∫–∏ (–ø—Ä–∏–º–µ—Ä)
                document.getElementById('bar-food').style.width = data.food + '%';
                document.getElementById('coins').innerText = 'ü™ô ' + data.coins;
                // ... —Ç—É—Ç –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—ã –∫–∞–∫ —Ä–∞–Ω—å—à–µ ...
                
            } catch (e) {
                console.log(e);
                alert("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º! –ó–∞–ø—É—Å—Ç–∏ Python.");
            }
        }

        async function doAction(actionName) {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            let response = await fetch(`${API_URL}/api/action`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ user_id: myId, action: actionName })
            });
            
            let result = await response.json();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
            if (result.message) {
                // –¢—É—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é showModal –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ alert
                alert(result.message); 
            }
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—ã–µ —Ü–∏—Ñ—Ä—ã
            loadData();
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        loadData();
    </script>
